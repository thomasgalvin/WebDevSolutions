<!DOCTYPE html>
<html>
    <head>
        <title>Header Editor - Vanilla Javascript</title>
        
        <style>
            body {
                text-align: justify;
                font-family: verdana;
            }
            
            article{
                max-width: 800px;
            }
            
            .byline {
                font-style: italic;
                font-size: 0.8em;
            }
        </style>
    </head>
    
    <body>
        <section>
            <article>
                <h1 id="header-display">
                    <span id="header-content">Lorem Ipsum</span> 
                </h1>
                
                <div class="byline">Posted by 
                    <a class="author" href="https://mycompany.com/monvoisinc">Catherine Monvoisin</a>
                    on <time datetime="2015-10-31 20:00">Saturday at 8pm</time>
                 </div>
                
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
                   
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
                   
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
                   
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
            </article>
        </section>
        
        <script>
            //anonymous function to bootstrap everything
            (function() {
            	var mode = 'display';
            	
                var headerDisplay = document.getElementById( 'header-display' );
                var headerContent = document.getElementById( 'header-content' );
                
                var headerInput = document.createElement('input');
            	headerInput.setAttribute( 'type', 'text' );
            	
            	var controlButton = document.createElement( 'button' );
            	controlButton.innerHTML = 'Edit';
                
                function changeMode(){
                	if( mode == 'display' ){
                	    mode = 'edit';
                	    controlButton.innerHTML = 'Done';
                	    headerInput.value = headerContent.innerHTML;
                	    headerDisplay.replaceChild( headerInput, headerContent );
                	    headerInput.focus();
                	    headerInput.select();
                	}
                	else{
                		mode = 'display';
                		controlButton.innerHTML = 'Edit';
                		headerContent.innerHTML = headerInput.value;
                		headerDisplay.replaceChild( headerContent, headerInput );
                	}
                }
                
                //detects the return key being pressed inside of the <input>
                //and calls the same method as clicking the save button
                function inputChanged(e) {
                    if( !e ){
                        e = window.event;
                    }
                    
                    var keyCode = e.keyCode || e.which;
                    if (keyCode == '13'){
                        // Enter pressed
                        changeMode();
                        return false;
                    }
                }
                
                headerInput.onkeypress = inputChanged;
                
                controlButton.onclick = changeMode;
                headerDisplay.appendChild( controlButton );
            })();//executing the anonymous function
        </script>
    </body>
</html>